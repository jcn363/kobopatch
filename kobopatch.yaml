## Works with kobopatch v0.9.1 and later.
## You can update kobopatch by downloading the latest release from https://github.com/geek1011/kobopatch/releases. 
version: 4.11.12019
in: src/kobo-update-4.11.12019.zip
out: out/KoboRoot.tgz
log: out/log.txt

patchFormat: kobopatch

## Comment with ## at the beginning of the line, any of the four "patchable" files if you do not want 
## to patch this specific file (saves space in the KoboRoot.tgz file). If no line is commented with #,
## the four files will be saved to KoboRoot.tgz regardless of they have been patched or not.
patches:
  src/nickel-P.yaml: usr/local/Kobo/nickel
#  src/nickel-PH.yaml: usr/local/Kobo/nickel
#  src/nickel-Pi.yaml: usr/local/Kobo/nickel
#  src/nickel-PZ.yaml: usr/local/Kobo/nickel
#  src/nickel-PNZ.yaml: usr/local/Kobo/nickel
#  src/nickel-F.yaml: usr/local/Kobo/nickel
#  src/nickel-FF.yaml: usr/local/Kobo/nickel
#  src/nickel.yaml: usr/local/Kobo/nickel
#  src/nickel-363.yaml: usr/local/Kobo/nickel
  src/sickel.yaml: usr/local/Kobo/sickel
#  src/libadobe.so.yaml: usr/local/Kobo/libadobe.so
  src/libnickel-PROGRESIVE.yaml: usr/local/Kobo/libnickel.so.1.0.0
  src/libnickel.so.1.0.0.yaml: usr/local/Kobo/libnickel.so.1.0.0
  src/librmsdk.so.1.0.0.yaml: usr/local/Kobo/librmsdk.so.1.0.0

## You can put lines in the following section to override the enabled state of patches.
## The indentation matters! Each file to be patched (e.g. src/nickel.yaml:)should be indented by 2 spaces.
## Each override (e.g. Custom synopsis/details line spacing: yes) should be indented by 4 spaces. 
## Add to the section below. This section can be copy and pasted into newer patch versions to
## keep your selections. 
## The name of the overrides has to be exactly the same than in the corresponding yaml file.
##
## Example of how it should look:
## overrides:
##   src/nickel.patch:
##     Custom synopsis/details line spacing: yes
##     Whatever the patch is called: no
##   src/libadobe.so.patch:
##     You get the idea: yes
overrides:
  src/nickel-F.yaml:
    Custom font-size: yes
  src/nickel-FF.yaml:
    Font-Family bulk change: yes
  src/nickel-P.yaml:
    PROGRESIVE: yes
  src/nickel-PH.yaml:
    PROGRESIVE: yes
  src/nickel-Pi.yaml:
    PROGRESIVE: yes
  src/nickel-PZ.yaml:
    PROGRESIVE: yes
  src/nickel-PNZ.yaml:
    PROGRESIVE: yes
  src/nickel.yaml:
    Show all games: yes
    Remove forgot pin button from lock screen: yes
    Remove recommendations (row1col2) from home screen: no
    Change pop-up footnote font-family: yes
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    Disable reading footer: no
    Custom reading footer style: no
# END GROUP
    Custom synopsis/details line spacing: no
    Custom synopsis/font size: no
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    Custom menubar - reduce height by 33%: no
    Custom menubar - reduce height by 50%: yes
# END GROUP
    Dictionary pop-up frame size increase: # before 4.10.11591
    Dictionary pop-up - increase available text area: yes
    Fix reading stats/author name cut off when series is showing: yes
    Changing the info panel in full size screensaver- beta 1: no
    Increase the cover size in library: yes
    Increase the view details container size: yes
    Increase size of kepub chapter progress chart: yes
    Custom font to collection and author titles: no
    Increase headlines font: no
    New home screen subtitle custom font: no
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    Remove footer (row3) and increase cover size on new home screen: no
    Remove footer (row3) on new home screen: no
    New home screen increasing cover size: no
  src/nickel-363.yaml:
    Only Reading and My Books: yes
    Remove Footer and Recommendations: no
# END GROUP
    Reduce reading footer and quit caption: no
    Font-family and font-size bulk change (part 1 of 2): #yes
  src/sickel.yaml:
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    sickel reboot timeout (20 sec): no
    sickel reboot timeout (30 sec): yes
# END GROUP
  src/libadobe.so.yaml:
    Remove PDF map widget shown during panning: #yes
  src/libnickel-PROGRESIVE.yaml:
    Dictionary, remove long winded closest match notification: yes
    unclassified (PROGRESIVE): yes #deprecated since 4.11.11911
    My ePub/Kepub fixed font sharpness: yes
    Wikipedia Search language: yes
    My KePub stylesheet additions: yes
    My Dictionary text font-family/font-size/line-height: yes
    My Brightness fine control: no
    My reading footer height: yes
    Add orientation dropdown to developer options on all devices: yes
    Use inverted portrait in rotation popup: no
    Use inverted landscape in rotation popup: yes
    Font-family and font-size bulk change (part 2 of 2): #yes
  src/libnickel.so.1.0.0.yaml:
    Rename new home screen footer: no
    Set slide to unlock: yes #10
    Enable rotation on all devices: yes #2
    Both page turn buttons go next: no
    Rename settings: no
    Replace adobe page numbers toggle with invert screen: yes #1
    Always show confirmation dialog before upgrading: yes
    Set reading footer height: no # in libnickel-PROGRESIVE.yaml
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    My 10 line spacing values: no #8
    My 24 line spacing values: yes #6
# END GROUP
    Custom left & right margins: yes
    Custom font sizes: yes #9
    Freedom to advanced fonts control: yes #5
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    ePub fixed/adjustable top/bottom margins: yes #11
    ePub fixed top/bottom margins: no
    ePub disable built-in body padding-bottom: no
# END GROUP
    Custom kepub default margins: yes #3
    Block WiFi firmware upgrade: yes
    Custom footer (page number text): yes
    Custom Sleep/Power-off timeouts: no
    Set KePub hyphenation: yes #7
    Fix three KePub fullScreenReading bugs: yes
    Force user line spacing in KePubs: yes
    Force user line spacing in ePubs (part 1 of 2): yes # PART 2 in librmsdk.so.1.0.0.yaml
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    Un-force font-family override p tags (std epubs): no
    Force user font-family in ePubs (Part 1 of 2): yes # PART 2 in librmsdk.so.1.0.0.yaml
# END GROUP
    ePub constant font sharpness: no # in libnickel-PROGRESIVE.yaml
    KePub constant font sharpness: no # in libnickel-PROGRESIVE.yaml
    Un-Force user text-align in div,p tags in KePubs: yes
    Always display chapter name on navigation menu: yes #12
    Un-Force user font-family in KePubs: yes
    Un-force link decoration in KePubs: yes
    KePub stylesheet additions: no # in libnickel-PROGRESIVE.yaml
    Change dicthtml strings to micthtml: no
    Allow searches on Extra dictionaries: yes
    Ignore .otf fonts: no
    Brightness fine control: no # in libnickel-PROGRESIVE.yaml
    Clock display duration: yes #4
# PATCH GROUP - DON'T EANBLE MORE THAN 1
    Keyboard template (Mini/Touch/Glo/Aura): no
    Keyboard template (AuraHD/H2O): no
    Keyboard template (GloHD/ClaraHD/AuraOne/H2O2): no
    Cyrillic keyboard (Mini/Touch/Glo/Aura/AuraHD/H2O): no
    Cyrillic Keyboard (GloHD/ClaraHD/AuraOne/H2O2): no
    Arabic keyboard (Mini/Touch/Glo/Aura/AuraHD/H2O): no
    Hebrew keyboard (Mini/Touch/Glo/Aura): no
    Hebrew keyboard (AuraHD/H2O): no
    Hebrew keyboard (GloHD/ClaraHD/AuraOne/H2O2): no
    Greek Keyboard (GloHD/ClaraHD/AuraOne/H2O2): no
# END GROUP
    Dictionary text font-family/font-size/line-height - beta: no # in libnickel-PROGRESIVE.yaml
    Dictionary, remove long winded closest match notification: no # in libnickel-PROGRESIVE.yaml
    Wikipedia Search language: no # in libnickel-PROGRESIVE.yaml
  src/librmsdk.so.1.0.0.yaml:
    Disable orphans/widows avoidance: yes
    Default ePub monospace font (Courier): yes
    Default ePub serif font (Amasis): no
    Default ePub sans-serif font (Gill Sans): no
    Default ePub symbol font (Symbol): no
    Force user line spacing in ePubs (Part 2 of 2): yes # PART 1 in libnickel.so.1.0.0.yaml
    Force user font-family in ePubs (Part 2 of 2): yes # PART 1 in libnickel.so.1.0.0.yaml
    Ignore ePub book Adobe XPGT stylesheet (page-template.xpgt): yes
    Ignore ePub book CSS and Adobe XPGT stylesheets: no
    Ignore ePub TOC navpoints: no

## TRANSLATIONS ##
# Optional, use only if lrelease is not in PATH and if translations are needed
# lrelease: /path/to/lrelease

# Uncomment the following to add translations (replace lc with the language code)
# translations:
#   src/whatever.ts: usr/local/Kobo/translations/trans_lc.qm
translations:
  src/translations/trans_es.ts: usr/local/Kobo/translations/trans_es.qm
## ADDITIONAL FILES ##
# Uncomment the following to add additional files to the tgz (like init scripts or hyphen dicts)
# The files will be root-owned, and world readable, writable, and executable (0777)
# files:
#   src/whatever.txt: usr/local/Kobo/whatever.txt
files:
# To remove the system fonts
# https://www.mobileread.com/forums/showthread.php?t=278392
  src/delete_files/delete_fonts.rules: etc/udev/rules.d/delete_fonts.rules
  src/delete_files/delete_fonts.sh: root/delete_fonts.sh
  src/hyphenDicts/dicthtml-e6.zip: mnt/onboard/.kobo/dict/dicthtml-es.zip
  src/hyphenDicts/hyph_de.dic: usr/local/Kobo/hyphenDicts/hyph_de.dic
  src/hyphenDicts/hyph_es.dic:
    - usr/local/Kobo/hyphenDicts/hyph_es.dic 
    - usr/local/Kobo/hyphenDicts/hyph_es_ES.dic
  src/hyphenDicts/hyph_en_US.dic: usr/local/Kobo/hyphenDicts/hyph_en_US.dic
  src/hyphenDicts/hyph_fr.dic: usr/local/Kobo/hyphenDicts/hyph_fr.dic
  src/hyphenDicts/hyph_la.dic: usr/local/Kobo/hyphenDicts/hyph_la.dic
#  src/translations/trans_es.qm: usr/local/Kobo/translations/trans_es.qm
  src/otros/hosts-363: etc/hosts
  src/otros/jcn-t.css:
    - mnt/onboard/kobo_extra.css
    - mnt/onboard/.kobo/kepub/kepub-book.css
# https://www.ibm.com/plex/
  src/fonts/IBMPlexMono-Regular.ttf:
    - mnt/onboard/fonts/IBMPlexMono-Regular.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexMono-Regular.ttf
  src/fonts/IBMPlexMono-Italic.ttf:
    - mnt/onboard/fonts/IBMPlexMono-Italic.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexMono-Italic.ttf
  src/fonts/IBMPlexMono-Bold.ttf:
    - mnt/onboard/fonts/IBMPlexMono-Bold.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexMono-Bold.ttf
  src/fonts/IBMPlexMono-BoldItalic.ttf:
    - mnt/onboard/fonts/IBMPlexMono-BoldItalic.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexMono-BoldItalic.ttf
  src/fonts/IBMPlexSans-Regular.ttf:
    - mnt/onboard/fonts/IBMPlexSans-Regular.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSans-Regular.ttf
  src/fonts/IBMPlexSans-Italic.ttf:
    - mnt/onboard/fonts/IBMPlexSans-Italic.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSans-Italic.ttf
  src/fonts/IBMPlexSans-Bold.ttf:
    - mnt/onboard/fonts/IBMPlexSans-Bold.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSans-Bold.ttf
  src/fonts/IBMPlexSans-BoldItalic.ttf:
    - mnt/onboard/fonts/IBMPlexSans-BoldItalic.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSans-BoldItalic.ttf
  src/fonts/IBMPlexSerif-Regular.ttf:
    - mnt/onboard/fonts/IBMPlexSerif-Regular.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSerif-Regular.ttf
  src/fonts/IBMPlexSerif-Italic.ttf:
    - mnt/onboard/fonts/IBMPlexSerif-Italic.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSerif-Italic.ttf
  src/fonts/IBMPlexSerif-Bold.ttf:
    - mnt/onboard/fonts/IBMPlexSerif-Bold.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSerif-Bold.ttf
  src/fonts/IBMPlexSerif-BoldItalic.ttf:
    - mnt/onboard/fonts/IBMPlexSerif-BoldItalic.ttf
    - mnt/onboard/.adds/koreader/fonts/ibm/IBMPlexSerif-BoldItalic.ttf
# https://sansforgetica.rmit/
  src/fonts/SansForgetica-Regular.otf:
    - mnt/onboard/fonts/SansForgetica-Regular.otf
    - mnt/onboard/.adds/koreader/fonts/Forgetica/SansForgetica-Regular.otf
# https://www.type-together.com/literata
  src/fonts/Literata-BoldItalic.otf:
    - mnt/onboard/fonts/Literata-BoldItalic.otf
    - mnt/onboard/.adds/koreader/fonts/Literata/Literata-BoldItalic.otf
  src/fonts/Literata-Bold.otf:
    - mnt/onboard/fonts/Literata-Bold.otf
    - mnt/onboard/.adds/koreader/fonts/Literata/Literata-Bold.otf
  src/fonts/Literata-Italic.otf:
    - mnt/onboard/fonts/Literata-Italic.otf
    - mnt/onboard/.adds/koreader/fonts/Literata/Literata-Italic.otf
  src/fonts/Literata-Regular.otf:
    - mnt/onboard/fonts/Literata-Regular.otf
    - mnt/onboard/.adds/koreader/fonts/Literata/Literata-Regular.otf
# https://github.com/adobe-fonts/source-sans-pro
  src/fonts/SourceSansPro-Regular.ttf: mnt/onboard/fonts/SourceSansPro-Regular.ttf
  src/fonts/SourceSansPro-Italic.ttf: mnt/onboard/fonts/SourceSansPro-Italic.ttf
  src/fonts/SourceSansPro-Bold.ttf: mnt/onboard/fonts/SourceSansPro-Bold.ttf
  src/fonts/SourceSansPro-BoldItalic.ttf: mnt/onboard/fonts/SourceSansPro-BoldItalic.ttf
  # dropbear is built with the toolchain from kobolabs/Kobo-Reader
  # ./configure --host=arm-linux-gnueabihf --disable-zlib --enable-static --disable-lastlog
  # make PROGRAMS='dropbear dropbearkey scp' MULTI=1
  # sftp-server is from koreader
  dropbear/etc/inittab: etc/inittab
  dropbear/usr/local/dropbear/dropbear.sh: usr/local/dropbear/dropbear.sh
  dropbear/usr/local/dropbear/dropbearmulti: usr/local/dropbear/dropbearmulti
  dropbear/usr/libexec/sftp-server: usr/libexec/sftp-server
